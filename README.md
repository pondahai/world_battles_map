# world_battles_map  
![Figure_1](https://github.com/user-attachments/assets/c49c5b4e-958d-40f0-b8bc-168575db1322)  
  
這個程式分為兩個步驟  battles_locations.csv 以及 csv_to_map.py
# Battles Locations Scraper(battles_locations.py)

這個Python腳本用來從維基百科的「戰役列表」頁面獲取各個戰役的位置資訊，並將這些資訊儲存到一個CSV文件中。以下是這個工具的主要步驟：

1. **獲取"By era"部分的連結**：
   - 首先，腳本會從`https://en.wikipedia.org/wiki/Lists_of_battles`頁面中提取「By era」部分的所有連結。

2. **瀏覽各時代的戰役列表**：
   - 點擊每個時代的連結進入該時代的戰役列表頁面。

3. **提取戰役連結**：
   - 從每個時代的列表頁面中，提取出每場戰役的連結。

4. **獲取戰役位置資訊**：
   - 對於每個戰役的連結，腳本會進入該戰役的詳細頁面，並從頁面的Infobox中提取位置資訊。

5. **儲存結果**：
   - 所有提取到的戰役位置資訊會被儲存到一個名為`battles_locations.csv`的CSV文件中，其中包含了每個戰役的URL和位置。

## 安裝需求

- Python 3.x
- requests 庫
- beautifulsoup4 庫

## 如何使用

1. 克隆或下載此GitHub庫到您的本地電腦。
2. 在命令行中，導航到包含此腳本的目錄。
3. 安裝必要的Python庫：
   - 請執行以下命令來安裝requests和beautifulsoup4庫。
4. 執行腳本：
   - 請執行Python腳本`battles_locations.py`。
   - 這將會產生一個`battles_locations.csv`文件，包含所有提取到的戰役位置資訊。

## 注意事項

- 請尊重維基百科的機器人政策和服務條款，避免過度頻繁的請求。
- 由於維基百科的內容和結構會隨時間變動，請定期更新腳本以確保其正常工作。
- 此腳本主要處理基本的戰役信息，並未深入解析戰役的每個細節，因此位置信息的準確性可能會有所差異。

# CSV 轉世界地圖座標展示(csv_to_map.py)

這個專案旨在從CSV檔案讀取戰役的維基百科網址和位置資訊，將其在地圖上以紅點標示出來。以下是步驟簡介：

## 使用說明

### 步驟一：準備環境

1. **安裝必要的Python庫**：
   - 請確保已安裝Python環境。
   - 安裝以下Python庫：
     ```bash
     pip install pandas geopy matplotlib cartopy
     ```

### 步驟二：準備資料

2. **CSV文件格式**：
   - 第一欄位為`battle_url`，存放戰役的維基百科網址。
   - 第二欄位為`location`，存放位置資訊，可能包含地名或座標。
   - 請將CSV文件命名為`battles_locations.csv`。

### 步驟三：運行程式

3. **執行`csv_to_map.py`**：
   - 程式會讀取`battles_locations.csv`文件，並在地圖上標記各戰役的位置。
   - 運行程式時，你會看到在命令行中顯示的處理進度。

### 步驟四：觀看結果

4. **查看地圖**：
   - 程式執行完畢後，會自動顯示一個世界地圖，每個戰役的位置以紅點標記。
   - 地圖會顯示在預設的圖形視窗中。

### 程式碼概要

- **解析位置**：程式碼會嘗試從`location`欄位解析出座標，若無法解析，則會使用`geopy`來進行地理編碼。
- **繪製地圖**：使用`matplotlib`和`cartopy`庫來繪製世界地圖，並在確定的座標上打上紅點。
- **處理進度**：在處理每條記錄時，會在命令行中顯示進度。

### 注意事項

- 地名解析需要網絡連接，因為它依賴於外部地理編碼服務。
- 某些地名可能因為資料庫限制或解析問題而無法正確標示，建議在運行時檢查輸出信息。

這個程式提供了從CSV文件到視覺化地圖展示的自動化流程，適用於研究歷史戰役地點的展示與分析。
